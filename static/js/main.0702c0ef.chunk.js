(this["webpackJsonpcards-nya-front-2-0"]=this["webpackJsonpcards-nya-front-2-0"]||[]).push([[0],{21:function(e,t,n){e.exports={inputNya:"EditableSpanNya_inputNya__2oQ6P",spanNya:"EditableSpanNya_spanNya__139Ng"}},33:function(e,t,n){e.exports={inputNya:"InputNya_inputNya__2oR82"}},34:function(e,t,n){e.exports={buttonNya:"ButtonNya_buttonNya__1V5iD"}},35:function(e,t,n){e.exports={link:"LinkNya_link__3jo8H"}},39:function(e,t,n){e.exports=n(69)},44:function(e,t,n){},45:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),s=n.n(c),o=(n(44),n(45),n(9)),u=n(3),i=n(4),l=n(10),f=n(33),g=n.n(f),p=a.a.memo((function(e){var t=e.onChange,n=e.onChangeText,c=e.onChangeChecked,s=e.info,o=Object(l.a)(e,["onChange","onChangeText","onChangeChecked","info"]),u=Object(r.useCallback)((function(e){t&&t(e),n&&n(e.currentTarget.value),c&&c(e.currentTarget.checked)}),[t,n,c]);return s&&console.log("render InputNya-"+s),a.a.createElement("input",Object.assign({onChange:u,className:g.a.inputNya},o))})),m=n(34),d=n.n(m),b=a.a.memo((function(e){var t=e.info,n=Object(l.a)(e,["info"]);return t&&console.log("render ButtonNya-"+t),a.a.createElement("button",Object.assign({className:d.a.buttonNya},n))})),E=n(35),O=n.n(E),v=a.a.memo((function(e){var t=e.info,n=Object(l.a)(e,["info"]);return t&&console.log("render LinkNya-"+t),a.a.createElement(o.b,Object.assign({className:O.a.link},n))})),j=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.pass,c=e.setPass,s=e.remember,o=e.setRemember,u=e.signIn,i=e.loading;return console.log("render Login"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{info:"email",value:t,onChangeText:n})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass",value:r,onChangeText:c})),a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement(p,{type:"checkbox",info:"remember",checked:s,onChangeChecked:o}),"remember me")),a.a.createElement("div",null,a.a.createElement(v,{to:Se.FORGOT,info:"forgot in login"},"forgot?")),a.a.createElement("div",null,a.a.createElement(b,{info:"sign in",onClick:u,disabled:i},"sign in")))})),h=n(1),S=n.n(h),x=n(2),k=function(e){return{type:"login/SET_LOADING",loading:e}},w=function(e){return{type:"login/SET_SUCCESS",success:e}},y=function(e){return{type:"login/SET_ERROR",error:e}},C=n(5),_=function(){var e=Object(x.a)(S.a.mark((function e(t,n,r){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),a=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",n(a),console.log("Nya, "+r+" Error!",Object(C.a)({},e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r){return e.apply(this,arguments)}}(),N=n(37),T=n.n(N).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),P={signIn:function(){var e=Object(x.a)(S.a.mark((function e(t,n,r){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/auth/login",{email:t,password:n,rememberMe:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},R=function(e){return{type:"profile/SET_LOADING",loading:e}},G=function(e){return{type:"profile/SET_SUCCESS",success:e}},L=function(e){return{type:"profile/SET_ERROR",error:e}},I=function(e){return{type:"profile/SET_USER",user:e}},U=a.a.memo((function(){var e=Object(r.useState)("nya-admin@nya.nya"),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)("1qazxcvBG"),o=Object(i.a)(s,2),l=o[0],f=o[1],g=Object(r.useState)(!1),p=Object(i.a)(g,2),m=p[0],d=p[1],b=Object(u.b)(),E=Object(r.useCallback)((function(){return b(function(e,t,n){return function(){var r=Object(x.a)(S.a.mark((function r(a){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(k(!0)),r.next=3,_(Object(x.a)(S.a.mark((function r(){var c;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.signIn(e,t,n);case 2:c=r.sent,a(w(!0)),a(I(c)),console.log("Nya, Login Success!",c);case 6:case"end":return r.stop()}}),r)}))),(function(e){return a(y(e))}),"Login");case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(n,l,m))}),[n,l,m,b]),O=Object(u.c)((function(e){return e.login})).loading;return console.log("render LoginContainer"),a.a.createElement(j,{email:n,setEmail:c,pass:l,setPass:f,remember:m,setRemember:d,signIn:E,loading:O})})),F=a.a.memo((function(e){var t=e.loading,n=e.success,r=e.error,c=e.first,s=e.info;return s&&console.log("render Status-"+s),c?a.a.createElement("div",null,a.a.createElement("br",null)):a.a.createElement(a.a.Fragment,null,t?a.a.createElement("div",{style:{color:"orange"}},"loading..."):r?a.a.createElement("div",{style:{color:"red"}},r):n?a.a.createElement("div",{style:{color:"lime"}},"Success!"):a.a.createElement("div",null,a.a.createElement("br",null)))})),D=a.a.memo((function(e){var t=e.first,n=Object(u.c)((function(e){return e.login})),r=n.loading,c=n.success,s=n.error;return console.log("render LoginStatus"),a.a.createElement(F,{loading:r,success:c,error:s,info:"login",first:t})})),A=n(11),M=function(){var e=Object(u.c)((function(e){return e.login})),t=e.success,n=e.error,c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],f=Object(r.useState)(!0),g=Object(i.a)(f,2),p=g[0],m=g[1],d=Object(u.b)();return Object(r.useEffect)((function(){p?((t||n)&&d(y("")),m(!1)):t&&!o&&setTimeout((function(){return l(!0)}),500)}),[p,t,n,d,m,o,l]),console.log("render LoginPage"),o&&t&&!p?a.a.createElement(A.a,{to:Se.PROFILE}):a.a.createElement("div",null,"login",a.a.createElement(D,{first:p}),a.a.createElement(U,null),a.a.createElement(v,{to:Se.REGISTER,info:"register in login"},"register"))},B=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.pass,c=e.setPass,s=e.pass2,o=e.setPass2,u=e.signUp,i=e.loading;return console.log("render Register"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{info:"email",value:t,onChangeText:n})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass",value:r,onChangeText:c})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass confirm",value:s,onChangeText:o})),a.a.createElement("div",null,a.a.createElement(b,{info:"sign up",onClick:u,disabled:i},"sign up")))})),$=function(e){return{type:"register/SET_LOADING",loading:e}},H=function(e){return{type:"register/SET_SUCCESS",success:e}},J=function(e){return{type:"register/SET_ERROR",error:e}},W={signUp:function(){var e=Object(x.a)(S.a.mark((function e(t,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/auth/register",{email:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},q=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),l=o[0],f=o[1],g=Object(r.useState)(""),p=Object(i.a)(g,2),m=p[0],d=p[1],b=Object(u.b)(),E=Object(r.useCallback)((function(){return b(function(e,t,n){return function(){var r=Object(x.a)(S.a.mark((function r(a){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a($(!0)),r.next=3,_(Object(x.a)(S.a.mark((function r(){var c;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t===n){r.next=4;break}a(J("Passwords don't match!")),r.next=9;break;case 4:return r.next=6,W.signUp(e,t);case 6:c=r.sent,a(H(!0)),console.log("Nya, Register Success!",c);case 9:case"end":return r.stop()}}),r)}))),(function(e){return a(J(e))}),"Register");case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(n,l,m))}),[n,l,m,b]),O=Object(u.c)((function(e){return e.register})).loading;return console.log("render RegisterContainer"),a.a.createElement(B,{email:n,setEmail:c,pass:l,setPass:f,pass2:m,setPass2:d,signUp:E,loading:O})})),z=a.a.memo((function(e){var t=e.first,n=Object(u.c)((function(e){return e.register})),r=n.loading,c=n.success,s=n.error;return console.log("render RegisterStatus"),a.a.createElement(F,{loading:r,success:c,error:s,info:"register",first:t})})),Q=function(){var e=Object(u.c)((function(e){return e.register})),t=e.success,n=e.error,c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],f=Object(r.useState)(!0),g=Object(i.a)(f,2),p=g[0],m=g[1],d=Object(u.b)();return Object(r.useEffect)((function(){p?((n||t)&&d(J("")),m(!1)):t&&!o&&setTimeout((function(){return l(!0)}),500)}),[p,t,n,d,m,o,l]),console.log("render RegisterPage"),o&&t&&!p?a.a.createElement(A.a,{to:Se.LOGIN}):a.a.createElement("div",null,"register",a.a.createElement(z,{first:p}),a.a.createElement(q,null),a.a.createElement(v,{to:Se.LOGIN,info:"login in register"},"login"))},V={getMe:function(){var e=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(x.a)(S.a.mark((function e(t,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("/auth/me",{name:t,avatar:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logOut:function(){var e=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.delete("/auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUsers:function(){var e=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/social/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sendGeneralChatMessage:function(){var e=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/social/general/message",{message:"some message"});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getGeneralChatMessages:function(){var e=Object(x.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/social/general/message");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},K=a.a.memo((function(e){var t=e.first,n=Object(u.c)((function(e){return e.profile})),r=n.loading,c=n.success,s=n.error;return console.log("render ProfileStatus"),a.a.createElement(F,{loading:r,success:c,error:s,info:"profile",first:t})})),X=n(21),Y=n.n(X),Z=a.a.memo((function(e){var t=e.onBlur,n=e.autoFocus,c=e.spanProps,s=e.info,o=Object(l.a)(e,["onBlur","autoFocus","spanProps","info"]),u=c||{onDoubleClick:void 0,children:void 0},f=u.onDoubleClick,g=(u.children,Object(l.a)(u,["onDoubleClick","children"])),m=Object(r.useState)(!1),d=Object(i.a)(m,2),b=d[0],E=d[1],O=Object(r.useCallback)((function(e){E(!1),t&&t(e)}),[E,t]),v=Object(r.useCallback)((function(e){E(!0),f&&f(e)}),[E,f]);return s&&console.log("render EditableSpanNya-"+s),a.a.createElement(a.a.Fragment,null,b?a.a.createElement(p,Object.assign({onBlur:O,autoFocus:!(!1===n),info:"EditableSpanNya-"+s,className:Y.a.inputNya},o)):a.a.createElement("span",Object.assign({onDoubleClick:v,className:Y.a.spanNya},g),o.value))})),ee=a.a.memo((function(e){var t=e.loading,n=e.avatar,r=e.setAvatar,c=e.name,s=e.setName,o=e.update,u=e.logOutCallback;return console.log("render Profile"),a.a.createElement("div",null,a.a.createElement("img",{src:n,alt:"avatar",height:"200px"}),a.a.createElement("div",null,"avatar url: ",a.a.createElement(Z,{value:n,onChangeText:r,onBlur:o,info:"avatar-url"})),a.a.createElement("div",null,"name: ",a.a.createElement(Z,{value:c,onChangeText:s,onBlur:o,info:"name"})),a.a.createElement(b,{onClick:u,disabled:t},"LogOut"))})),te={_id:"0",email:"fake",name:"fake",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1},ne={loading:!1,success:!1,error:"",user:te},re=a.a.memo((function(){var e=Object(u.c)((function(e){return e.profile})),t=e.user,n=e.loading,c=Object(r.useState)(t.name),s=Object(i.a)(c,2),o=s[0],l=s[1],f=Object(r.useState)(t.avatar||""),g=Object(i.a)(f,2),p=g[0],m=g[1],d=Object(u.b)(),b=Object(r.useCallback)((function(){n?(l(t.name),m(t.avatar||"")):d(function(e,t){return function(){var n=Object(x.a)(S.a.mark((function n(r){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(R(!0)),n.next=3,_(Object(x.a)(S.a.mark((function n(){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.updateUser(e,t);case 2:a=n.sent,r(I(a.updatedUser)),r(G(!0)),console.log("Nya, updateUser Success!",a);case 6:case"end":return n.stop()}}),n)}))),(function(e){return r(L(e))}),"updateUser");case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(o,p))}),[d,o,p,n,l,m,t]),E=Object(r.useCallback)((function(){return d(function(){var e=Object(x.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,_(Object(x.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.logOut();case 2:n=e.sent,t(I(te)),t(G(!0)),console.log("Nya, logOut Success!",n);case 6:case"end":return e.stop()}}),e)}))),(function(e){return t(L(e))}),"logOut");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[d]);return console.log("render ProfileContainer"),a.a.createElement(ee,{loading:n,avatar:p,setAvatar:m,name:o,setName:l,update:b,logOutCallback:E})})),ae=function(){var e=Object(u.c)((function(e){return e.profile})),t=e.success,n=e.error,c=Object(r.useState)(!0),s=Object(i.a)(c,2),o=s[0],l=s[1],f=Object(u.b)();Object(r.useEffect)((function(){o&&((n||t)&&f(L("")),l(!1))}),[o,t,n,f,l]);return console.log("render ProfilePage"),a.a.createElement("div",null,"ProfilePage",a.a.createElement(K,{first:o}),a.a.createElement(re,null),a.a.createElement("div",null,a.a.createElement(b,{onClick:function(){return f(function(){var e=Object(x.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,_(Object(x.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getUsers();case 2:n=e.sent,t(G(!0)),console.log("Nya, getUsers Success!",n);case 5:case"end":return e.stop()}}),e)}))),(function(e){return t(L(e))}),"getUsers");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"get users"),a.a.createElement(b,{onClick:function(){return f(function(){var e=Object(x.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,_(Object(x.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.sendGeneralChatMessage();case 2:n=e.sent,t(G(!0)),console.log("Nya, sendGeneralChatMessage Success!",n);case 5:case"end":return e.stop()}}),e)}))),(function(e){return t(L(e))}),"sendGeneralChatMessage");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"send message"),a.a.createElement(b,{onClick:function(){return f(function(){var e=Object(x.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,_(Object(x.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getGeneralChatMessages();case 2:n=e.sent,t(G(!0)),console.log("Nya, getGeneralChatMessages Success!",n);case 5:case"end":return e.stop()}}),e)}))),(function(e){return t(L(e))}),"getGeneralChatMessages");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"get messages")))},ce=a.a.memo((function(e){var t=e.children,n=Object(l.a)(e,["children"]),c=Object(u.c)((function(e){return e.profile})),s=c.user,o=c.error,f=c.success,g=Object(r.useState)(!0),p=Object(i.a)(g,2),m=p[0],d=p[1],b=Object(r.useState)(!1),E=Object(i.a)(b,2),O=E[0],v=E[1],j=Object(r.useState)("0"===s._id),h=Object(i.a)(j,2),k=h[0],w=h[1],y=Object(u.b)();return Object(r.useEffect)((function(){m?((f||o)&&y(L("")),"0"===s._id&&y(function(){var e=Object(x.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,_(Object(x.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getMe();case 2:n=e.sent,t(I(n)),t(G(!0)),console.log("Nya, getMe Success!",n);case 6:case"end":return e.stop()}}),e)}))),(function(e){return t(L(e))}),"getMe");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(!1)):(!O&&(k&&o||!k&&"0"===s._id)&&setTimeout((function(){return v(!0)}),1500),f&&k&&w(!1))}),[m,d,s._id,v,f,o,y,O,k,w]),O?a.a.createElement(A.a,{to:Se.LOGIN}):k?a.a.createElement("div",null,"spin... ",o):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",n,t))})),se=a.a.memo((function(e){var t=e.first,n=Object(u.c)((function(e){return e.forgot})),r=n.loading,c=n.success,s=n.error;return console.log("render ForgotStatus"),a.a.createElement(F,{loading:r,success:c,error:s,info:"forgot",first:t})})),oe=a.a.memo((function(e){var t=e.email,n=e.setEmail,r=e.forgot,c=e.loading;return console.log("render Forgot"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{info:"email",value:t,onChangeText:n})),a.a.createElement("div",null,a.a.createElement(b,{info:"forgot-send",onClick:r,disabled:c},"send")))})),ue=function(e){return{type:"forgot/SET_LOADING",loading:e}},ie=function(e){return{type:"forgot/SET_SUCCESS",success:e}},le=function(e){return{type:"forgot/SET_ERROR",error:e}},fe={forgot:function(){var e=Object(x.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/auth/forgot",{email:t,from:"test-front-admin <ai73a@yandex.by>",message:"\n<div style=\"background-color: lime; padding: 15px\">\npassword recovery link: \n<a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\n</div>\n"});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ge=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(u.b)(),o=Object(r.useCallback)((function(){return s(function(e){return function(){var t=Object(x.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ue(!0)),t.next=3,_(Object(x.a)(S.a.mark((function t(){var r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.forgot(e);case 2:r=t.sent,n(ie(!0)),console.log("Nya, Forgot Success!",r);case 5:case"end":return t.stop()}}),t)}))),(function(e){return n(le(e))}),"Forgot");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}),[n,s]),l=Object(u.c)((function(e){return e.forgot})).loading;return console.log("render ForgotContainer"),a.a.createElement(oe,{email:n,setEmail:c,forgot:o,loading:l})})),pe=function(){var e=Object(u.c)((function(e){return e.forgot})),t=e.success,n=e.error,c=Object(r.useState)(!0),s=Object(i.a)(c,2),o=s[0],l=s[1],f=Object(u.b)();return Object(r.useEffect)((function(){o&&((t||n)&&f(le("")),l(!1))}),[o,t,n,f,l]),console.log("render ForgotPage"),a.a.createElement("div",null,"forgot",a.a.createElement(se,{first:o}),t?a.a.createElement("div",null,"click the link in the message in your email"):a.a.createElement(ge,null),a.a.createElement("div",null,a.a.createElement(v,{to:Se.LOGIN,info:"login in forgot"},"login")))},me=a.a.memo((function(e){var t=e.first,n=Object(u.c)((function(e){return e.setPass})),r=n.loading,c=n.success,s=n.error;return console.log("render SetPassStatus"),a.a.createElement(F,{loading:r,success:c,error:s,info:"setPass",first:t})})),de=a.a.memo((function(e){var t=e.pass,n=e.setPass,r=e.pass2,c=e.setPass2,s=e.setPassCallback,o=e.loading;return console.log("render SetPass"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{info:"pass",value:t,onChangeText:n})),a.a.createElement("div",null,a.a.createElement(p,{info:"pass confirm",value:r,onChangeText:c})),a.a.createElement("div",null,a.a.createElement(b,{info:"sign up",onClick:s,disabled:o},"setPass")))})),be=function(e){return{type:"setPass/SET_LOADING",loading:e}},Ee=function(e){return{type:"setPass/SET_SUCCESS",success:e}},Oe=function(e){return{type:"setPass/SET_ERROR",error:e}},ve={setPass:function(){var e=Object(x.a)(S.a.mark((function e(t,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/auth/set-new-password",{resetPasswordToken:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},je=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),l=o[0],f=o[1],g=Object(A.g)().token,p=Object(u.b)(),m=Object(r.useCallback)((function(){return p(function(e,t,n){return function(){var r=Object(x.a)(S.a.mark((function r(a){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(be(!0)),r.next=3,_(Object(x.a)(S.a.mark((function r(){var c;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t===n){r.next=4;break}a(Oe("Passwords don't match!")),r.next=9;break;case 4:return r.next=6,ve.setPass(e,t);case 6:c=r.sent,a(Ee(!0)),console.log("Nya, SetPass Success!",c);case 9:case"end":return r.stop()}}),r)}))),(function(e){return a(Oe(e))}),"SetPass");case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(g,n,l))}),[n,l,p]),d=Object(u.c)((function(e){return e.setPass})).loading;return console.log("render SetPassContainer"),a.a.createElement(de,{pass:n,setPass:c,pass2:l,setPass2:f,setPassCallback:m,loading:d})})),he=function(){var e=Object(u.c)((function(e){return e.setPass})),t=e.success,n=e.error,c=Object(r.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1],f=Object(r.useState)(!0),g=Object(i.a)(f,2),p=g[0],m=g[1],d=Object(u.b)();return Object(r.useEffect)((function(){p?((n||t)&&d(Oe("")),m(!1)):t&&!o&&setTimeout((function(){return l(!0)}),500)}),[p,t,n,d,m,o,l]),console.log("render SetPassPage"),o&&t&&!p?a.a.createElement(A.a,{to:Se.LOGIN}):a.a.createElement("div",null,"setPass",a.a.createElement(me,{first:p}),a.a.createElement(je,null),a.a.createElement(v,{to:Se.LOGIN,info:"login in setPass"},"login"))},Se={LOGIN:"/login",REGISTER:"/register",PROFILE:"/profile",FORGOT:"/forgot",SET_PASS:"/set-new-password"},xe=[{_id:0,title:"main",path:"/",exact:!0,page:a.a.createElement(A.a,{to:Se.LOGIN})},{_id:1,title:"login",path:Se.LOGIN,exact:!0,page:a.a.createElement(M,null)},{_id:2,title:"register",path:Se.REGISTER,exact:!0,page:a.a.createElement(Q,null)},{_id:3,title:"forgot",path:Se.FORGOT,exact:!0,page:a.a.createElement(pe,null)},{_id:4,title:"setPass",path:Se.SET_PASS,params:"/:token",exact:!0,page:a.a.createElement(he,null)},{_id:7,title:"profile",path:Se.PROFILE,exact:!0,page:a.a.createElement(ce,null,a.a.createElement(ae,null))},{_id:9999,title:"error404",page:a.a.createElement("div",null,"error404")}],ke=xe.map((function(e){return a.a.createElement(v,{key:"navLink-"+e._id,to:(e.path||"/error404")+(e.params?"/1":""),info:"navLink-"+e._id},e.title)})),we=function(){return console.log("render DevHeader"),a.a.createElement(a.a.Fragment,null,ke)},ye=xe.map((function(e){return a.a.createElement(A.b,{key:"route-"+e._id,path:e.path&&e.path+(e.params||""),exact:e.exact,render:function(){return e.page}})})),Ce=function(){return console.log("render Routes"),a.a.createElement(A.d,null,ye)},_e=function(){return console.log("render Main"),a.a.createElement(a.a.Fragment,null,a.a.createElement(we,null),a.a.createElement(Ce,null))},Ne=n(13),Te=n(38),Pe={loading:!1,success:!1,error:""},Re={loading:!1,success:!1,error:""},Ge={loading:!1,success:!1,error:""},Le={loading:!1,success:!1,error:""},Ie=Object(Ne.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_ERROR":return Object(C.a)({},e,{error:t.error,loading:!1,success:!1});case"login/SET_LOADING":return Object(C.a)({},e,{error:"",loading:t.loading,success:!1});case"login/SET_SUCCESS":return Object(C.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET_ERROR":return Object(C.a)({},e,{error:t.error,loading:!1,success:!1});case"register/SET_LOADING":return Object(C.a)({},e,{error:"",loading:t.loading,success:!1});case"register/SET_SUCCESS":return Object(C.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"forgot/SET_ERROR":return Object(C.a)({},e,{error:t.error,loading:!1,success:!1});case"forgot/SET_LOADING":return Object(C.a)({},e,{error:"",loading:t.loading,success:!1});case"forgot/SET_SUCCESS":return Object(C.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},setPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPass/SET_ERROR":return Object(C.a)({},e,{error:t.error,loading:!1,success:!1});case"setPass/SET_LOADING":return Object(C.a)({},e,{error:"",loading:t.loading,success:!1});case"setPass/SET_SUCCESS":return Object(C.a)({},e,{error:"",loading:!1,success:t.success});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_USER":return Object(C.a)({},e,{user:t.user});case"profile/SET_ERROR":return Object(C.a)({},e,{error:t.error,loading:!1,success:!1});case"profile/SET_LOADING":return Object(C.a)({},e,{error:"",loading:t.loading,success:!1});case"profile/SET_SUCCESS":return Object(C.a)({},e,{error:"",loading:!1,success:t.success});default:return e}}}),Ue=Object(Ne.d)(Ie,Object(Ne.a)(Te.a)),Fe=Ue;window.store=Ue;var De=function(){return console.log("render App"),a.a.createElement("div",{className:"App"},a.a.createElement(o.a,null,a.a.createElement(u.a,{store:Fe},a.a.createElement(_e,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.0702c0ef.chunk.js.map